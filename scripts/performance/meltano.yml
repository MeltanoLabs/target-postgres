version: 1
send_anonymous_usage_stats: true
default_environment: dev
project_id: target-postgres
plugins:
  extractors:
  - name: tap-csv
    variant: meltanolabs
    pip_url: git+https://github.com/MeltanoLabs/tap-csv.git
    config:
      files:
      - entity: data_target_postgres
        path: $MELTANO_PROJECT_ROOT/data.csv
        keys: [column_1]
      add_metadata_columns: false
  loaders:
  - name: target-postgres
    namespace: target_postgres
    pip_url: -e ../../.
    settings:
    - name: sqlalchemy_url
      kind: string
      sensitive: true
    - name: ssl_enable
      kind: boolean
      sensitive: true
    - name: ssl_client_certificate_enable
      kind: boolean
      sensitive: true
    - name: ssl_mode
    - name: ssl_certificate_authority
      kind: string
      sensitive: true
    - name: ssl_client_certificate
      kind: string
      sensitive: true
    - name: ssl_client_private_key
      kind: string
      sensitive: true
    - name: password
      kind: string
      sensitive: true
    - name: host
    - name: port
      kind: integer
    - name: user
    - name: database
    - name: target_schema
    - name: add_record_metadata
      kind: boolean
    - name: validate_records
      kind: boolean
    - name: batch_size_rows
      kind: integer
    config:
      host: localhost
      port: 5432
      user: postgres
      password: postgres
      database: postgres
      target_schema: test
      add_record_metadata: true
  - name: target-postgres-copy-branch
    inherit_from: target-postgres
    pip_url: git+https://github.com/kinghuang/target-postgres@bulk-insert-copy
environments:
- name: dev
